@let products = (products$ | async) ?? [];

<div class="grid gap-4 sm:grid-cols-2 lg:grid-cols-3">
  @for (p of products; track p.id) {
  <div class="border rounded-xl p-4 bg-white">
    <img [src]="p.thumbnail" alt="" class="w-full h-40 object-cover rounded mb-3" />
    <div class="font-semibold mb-1 flex items-start justify-between gap-2">
      <span class="pr-2">{{ p.title }}</span>
      <button
        mat-icon-button
        (click)="toggleFavourite(p.id)"
        [attr.aria-label]="isFav(p.id) ? 'Unfavourite' : 'Favourite'"
      >
        <mat-icon [class.text-red-600]="isFav(p.id)">{{
          isFav(p.id) ? 'favorite' : 'favorite_border'
        }}</mat-icon>
      </button>
    </div>
    <div class="text-sm text-gray-600 mb-2 line-clamp-3">{{ p.description }}</div>
    <div class="font-bold">$ {{ p.price }}</div>
  </div>
  }
</div>
